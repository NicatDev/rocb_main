{% load static %} {% load i18n %}

<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="{% trans 'Browse the ROCB Europe gallery featuring images of events, activities, and interior views.' %}" />

    <!-- Site Title -->
    <title>{% trans "ROCB Europe - Gallery - Interior Images" %}</title>

    <!-- Place favicon.ico in the root directory -->
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="{% static 'assets/images/fav.png' %}"
    />

    <!-- CSS here -->
    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}" />
    <link
      rel="stylesheet"
      href="{% static 'assets/css/font-awesome-pro.min.css' %}"
    />
    <link rel="stylesheet" href="{% static 'assets/css/animate.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/bexon-icons.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/nice-select.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/swiper.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/venobox.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}" />
    <link
      rel="stylesheet"
      href="{% static 'assets/css/odometer-theme-default.css' %}"
    />
    <link rel="stylesheet" href="{% static 'assets/css/meanmenu.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/main.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}" />
  </head>

  <body>
    <div class="body-overlay"></div>

    <!-- Preloader Start -->
    <div class="tj-preloader is-loading">
      <div class="tj-preloader-inner">
        <div class="tj-preloader-ball-wrap">
          <div class="tj-preloader-ball-inner-wrap">
            <div class="tj-preloader-ball-inner">
              <div class="tj-preloader-ball"></div>
            </div>
            <div class="tj-preloader-ball-shadow"></div>
          </div>
          <div class="tj-preloader-text">{% trans "Loading" %} ...</div>
        </div>
      </div>
      <div class="tj-preloader-overlay"></div>
    </div>
    <!-- Preloader end -->

    <!-- back to top start -->
    <div class="back-to-top-wrapper">
      <button id="back_to_top" type="button" class="back-to-top-btn">
        <span><i class="tji-arrow-up-long"></i></span>
      </button>
    </div>
    <!-- back to top end -->

    <!-- start: Search Popup -->
    <div class="search-popup-overlay"></div>
    <!-- end: Search Popup -->

    <!-- start: Offcanvas Menu -->
    {% include 'components/hamburger-menu.html' %}
    <!-- end: Hamburger Menu -->

    <!-- start: Header Area -->
    {% include 'components/navbar.html' %}
    <!-- end: Header Area -->

    <!-- start: Header Area -->
    {% include 'components/scroll-navbar.html' %}
    <!-- end: Header Area -->

    <main id="primary" class="site-main">
      <!-- start: Breadcrumb Section -->
      <section class="tj-page-header section-gap-x">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div class="tj-page-header-content text-center">
                <span id="tj-page-title" class="tj-page-title"
                  >{% trans "Virtual Gallery" %}</span
                >
                <div class="tj-page-link">
                  <span><i class="tji-home"></i></span>
                  <span>
                    <a href="{% url 'home' %}">{% trans "Home" %}</a>
                  </span>
                  <span><i class="tji-arrow-right"></i></span>
                  <span>
                    <span>{% trans "Publicity" %}</span>
                  </span>
                  <span><i class="tji-arrow-right"></i></span>
                  <span>
                    <span>{% trans "Virtual Gallery" %}</span>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div
          class="page-header-overlay"
          data-bg-image="{% static 'assets/images/shape/pheader-overlay.webp' %}"
        ></div>
      </section>
      <!-- end: Breadcrumb Section -->

      <!-- start: Blog Section -->
      <section class="tj-blog-section section-gap">
        <div class="container">
          <div class="row row-gap-5">
            <div class="col-lg-8">
              <div class="post-details-wrapper">
                <h1 class="title title-anim">{% trans 'Gallery' %}</h1>
                <div
                  class="blog-category-two wow fadeInUp"
                  data-wow-delay=".3s"
                ></div>

                <!-- Pagination Info -->
                {% if gallery.paginator.count > 0 %}
                <div class="pagination-info">
                  {% trans "Showing" %} {{ gallery.start_index }} - {{ gallery.end_index }} 
                  {% trans "of" %} {{ gallery.paginator.count }} {% trans "images" %}
                </div>
                {% endif %}

                <!-- Gallery Grid -->
                <div class="gallerySection-gallery">
                  {% for item in gallery %}
                    <div class="gallerySection-gallery-item">
                      <img
                        src="{{ item.image.url }}"
                        alt="{{ item.title|default:'Gallery Image' }}"
                        loading="lazy"
                      />
                      <div class="gallerySection-overlay">
                        <i class="fas fa-search-plus"></i>
                      </div>
                    </div>
                  {% empty %}
                    <div class="col-12">
                      <div class="text-center py-5">
                        <i class="fas fa-images" style="font-size: 4rem; color: #ccc; margin-bottom: 1rem;"></i>
                        <h4 class="text-muted">{% trans "No images found" %}</h4>
                        <p class="text-muted">{% trans "Gallery is currently empty" %}</p>
                      </div>
                    </div>
                  {% endfor %}
                </div>

                <!-- Custom Pagination -->
                <!-- TJ Pagination -->
{% if gallery.has_other_pages %}
<div class="tj-pagination d-flex">
  <ul>
    <!-- Previous Page -->
    {% if gallery.has_previous %}
      <li>
        <a class="prev page-numbers" href="?page={{ gallery.previous_page_number }}">
          <i class="tji-arrow-left-long"></i>
        </a>
      </li>
    {% endif %}

    <!-- Page Numbers -->
    {% for num in gallery.paginator.page_range %}
      {% if gallery.number == num %}
        <li>
          <span aria-current="page" class="page-numbers current">{{ num }}</span>
        </li>
      {% elif num > gallery.number|add:'-3' and num < gallery.number|add:'3' %}
        <li>
          <a class="page-numbers" href="?page={{ num }}">{{ num }}</a>
        </li>
      {% endif %}
    {% endfor %}

    <!-- Next Page -->
    {% if gallery.has_next %}
      <li>
        <a class="next page-numbers" href="?page={{ gallery.next_page_number }}">
          <i class="tji-arrow-right-long"></i>
        </a>
      </li>
    {% endif %}
  </ul>
</div>
{% endif %}

                <!-- Modal -->
                <div
                  class="gallerySection-modal"
                  id="gallerySection-imageModal"
                >
                  <div class="gallerySection-modal-content">
                    <span
                      class="gallerySection-close"
                      id="gallerySection-closeModal"
                      >&times;</span
                    >
                    <img
                      id="gallerySection-modalImage"
                      src=""
                      alt="Modal Image"
                    />
                  </div>
                </div>

               
              </div>
            </div>

           {% include 'components/sidebar.html' %}
          </div>
        </div>
      </section>
      <!-- end: Blog Section -->
    </main>

    <!-- start: Footer Section -->
    {% include 'components/footer.html' %}
    <!-- end: Footer Section -->

    <!-- JS here -->
    <script src="{% static 'assets/js/jquery.min.js' %}"></script>
    <script src="{% static 'assets/js/bootstrap.bundle.min.js' %}"></script>

    <script src="{% static 'assets/js/gsap.min.js' %}"></script>
    <script src="{% static 'assets/js/gsap-scroll-to-plugin.min.js' %}"></script>
    <script src="{% static 'assets/js/gsap-scroll-trigger.min.js' %}"></script>
    <script src="{% static 'assets/js/gsap-split-text.min.js' %}"></script>
    <script src="{% static 'assets/js/smooth-scroll.min.js' %}"></script>

    <script src="{% static 'assets/js/jquery.nice-select.min.js' %}"></script>
    <script src="{% static 'assets/js/swiper.min.js' %}"></script>
    <script src="{% static 'assets/js/odometer.min.js' %}"></script>
    <script src="{% static 'assets/js/venobox.min.js' %}"></script>
    <script src="{% static 'assets/js/appear.min.js' %}"></script>
    <script src="{% static 'assets/js/wow.min.js' %}"></script>
    <script src="{% static 'assets/js/meanmenu.js' %}"></script>
    <script src="{% static 'assets/js/main.js' %}"></script>
    <script src="{% static 'assets/js/navbar.js' %}"></script>

    <script>
      // DOM yüklenene kadar bekle
      document.addEventListener("DOMContentLoaded", function () {
        const galleryItems = document.querySelectorAll(
          ".gallerySection-gallery-item"
        );

        const modal = document.getElementById("gallerySection-imageModal");
        const modalImage = document.getElementById("gallerySection-modalImage");
        const closeModal = document.getElementById("gallerySection-closeModal");

        // Resimlere tıklama olayı
        galleryItems.forEach((card) => {
          card.addEventListener("click", function (e) {
            e.preventDefault();
            const img = card.querySelector("img");
            modalImage.src = img.src;
            modalImage.alt = img.alt || "";
            modal.classList.add("show");
            document.body.style.overflow = "hidden";
          });
        });

        // Modal'ı kapatma fonksiyonu
        function closeModalFunction() {
          modal.classList.remove("show");
          document.body.style.overflow = "auto";
          setTimeout(() => {
            if (!modal.classList.contains("show")) {
              modalImage.src = "";
            }
          }, 300);
        }

        // X butonuna tıklama
        if (closeModal) {
          closeModal.addEventListener("click", function (e) {
            e.stopPropagation();
            closeModalFunction();
          });
        }

        // Modal arkaplanına tıklama
        if (modal) {
          modal.addEventListener("click", function (e) {
            if (e.target === modal) {
              closeModalFunction();
            }
          });
        }

        // Escape tuşu ile kapatma
        document.addEventListener("keydown", function (e) {
          if (e.key === "Escape" && modal.classList.contains("show")) {
            closeModalFunction();
          }
        });

        // Modal içeriğine tıklamayı engelle
        if (modalImage) {
          modalImage.addEventListener("click", function (e) {
            e.stopPropagation();
          });
        }

        // Smooth scrolling for pagination
        const pageLinks = document.querySelectorAll('.custom-pagination .page-link:not(.disabled)');
        pageLinks.forEach(link => {
          link.addEventListener('click', function(e) {
            // Scroll to top of gallery section
            const gallerySection = document.querySelector('.gallerySection-gallery');
            if (gallerySection) {
              setTimeout(() => {
                gallerySection.scrollIntoView({ 
                  behavior: 'smooth', 
                  block: 'start' 
                });
              }, 100);
            }
          });
        });
      });
    </script>
  </body>
</html>